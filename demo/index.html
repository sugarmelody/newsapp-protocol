<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <title>客户端接口测试</title>
  <script type="text/javascript" src="./static/newsapp.js"></script>
  <style>
    body{
      padding: 50px 0 0 50px;
    }
    div{
      display: inline-block;
      width: 150px;
      height: 40px;
      margin: 0 50px 20px 0;
      line-height: 40px;
      text-align: center;
      border: 1px solid #000;
    }
  </style>
</head>

<body>
  <div onclick="device()">device</div>
  <div onclick="downloadImage()">downloadImage</div>
  <div onclick="userinfo()">userinfo</div>
  <div onclick="login()">login</div>
  <div onclick="trash()">trash</div>
  <div onclick="encrypt()">encrypt</div>
  <div onclick="setShareData()">setShareData</div>
  <div onclick="share()">share</div>
<script>
  function device() {
    window.newsappAPI.device(function (info) {
      alert(info)
    })
  }
  function downloadImage() {
    var url = 'http://cms-bucket.nosdn.127.net/4e6098a83e5f4bd7854fd31d2fc1738d20170620100645.jpeg'
    window.newsappAPI.downloadImage(url, function (imgurl) {
      alert(imgurl)
    })
  }
  function login() {
    window.newsappAPI.login(function (info) {
      alert(info)
    })
  }
  function userinfo() {
    window.newsappAPI.userinfo(function (info) {
      alert(info)
    })
  }
  function trash() {
    window.newsappAPI.trash(function (trashid) {
      alert(trashid)
    })
  }
  function encrypt() {
    var data = {
      a: 1,
      b: 2,
      c: 3
    }
    window.newsappAPI.encrypt(JSON.stringify(data), function (trashid) {
      alert(trashid)
    })
  }
  function setShareData() {
    /*window.newsappAPI.share.setShareData({
      wxUrl: 'http://c.m.163.com/nc/qa/uncharted/index.html',
      wxImg: '',
      wxTitle: '哈哈哈',
      wxText: '描述啊啊啊啊啊',
      wbImg: ''
    })*/
    /*setTimeout(function () {
      console.log(2233333)
      window.newsappAPI.share.setShareData({
        wxUrl: 'http://t.c.m.163.com/nc/qa/uncharted/index.html',
        wxImg: '',
        wxTitle: '哈哈哈2',
        wxText: '描述啊啊啊啊啊2',
        wbImg: ''
      })
    }, 3000)*/
  }
  function share() {
    window.newsappAPI.share.invokeShare({
      wxUrl: 'http://c.m.163.com/nc/qa/uncharted/index.html',
      wxImg: '',
      wxTitle: '哈哈哈333333',
      wxText: '描述啊啊啊啊啊33333',
      wbImg: ''
    })
  }
</script>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <title>客户端接口测试</title>
  <script type="text/javascript" src="./static/newsapp.js"></script>
  <style>
    body{
      padding: 50px 0 0 50px;
    }
    div{
      display: inline-block;
      width: 150px;
      height: 40px;
      margin: 0 50px 20px 0;
      line-height: 40px;
      text-align: center;
      border: 1px solid #000;
    }
  </style>
</head>

<body>
  <div onclick="device()">device</div>
  <div onclick="downloadImage()">downloadImage</div>
  <div onclick="userinfo()">userinfo</div>
  <div onclick="login()">login</div>
  <div onclick="trash()">trash</div>
  <div onclick="encrypt()">encrypt</div>
  <div onclick="setShareData()">setShareData</div>
  <div onclick="share()">share</div>
  <div onclick="hideToolbar()">隐藏正文工具栏</div>
  <div onclick="modifyTitle()">修改导航栏标题</div>
  <div onclick="button()" style="width: 100%">修改导航栏右上角的操作按钮文字</div>
  <div onclick="copy()">点击复制按纽文本</div>
  <div onclick="current()">获取位置</div>
  <div onclick="change()">切换位置</div>
  <div onclick="setting()">获取用户相关设置</div>
  <div onclick="pushview()">跳转到指定界面(优惠券)</div>
  <div onclick="uploadimage()">上传图片</div>
  <div onclick="alarm()">提醒</div>
  <div onclick="remind()">多次提醒</div>
<script>
  function device() {
    window.newsappAPI.device(function (info) {
      alert(info)
    })
  }
  function downloadImage() {
    var url = 'http://cms-bucket.nosdn.127.net/4e6098a83e5f4bd7854fd31d2fc1738d20170620100645.jpeg'
    window.newsappAPI.downloadImage(url, function (imgurl) {
      alert('图片下载成功' + imgurl)
    })
  }
  function login() {
    window.newsappAPI.login(function (info) {
      alert(JSON.stringify(info))
    })
  }
  function userinfo() {
    window.newsappAPI.userinfo(function (info) {
      alert(JSON.stringify(info))
    })
  }
  function trash() {
    window.newsappAPI.trash(function (trashid) {
      alert(trashid)
    })
  }
  function encrypt() {
    var data = {
      a: 1,
      b: 2,
      c: 3
    }
    window.newsappAPI.encrypt(JSON.stringify(data), function (trashid) {
      alert(trashid)
    })
  }
  function setShareData() {
    window.newsappAPI.share.setShareData({
      wxUrl: 'http://c.m.163.com/nc/qa/uncharted/index.html',
      wxImg: '',
      wxTitle: '哈哈哈',
      wxText: '描述啊啊啊啊啊',
      wbImg: ''
    })
    setTimeout(function () {
      window.newsappAPI.share.setShareData({
        wxUrl: 'http://t.c.m.163.com/nc/qa/uncharted/index.html',
        wxImg: '',
        wxTitle: '哈哈哈2',
        wxText: '描述啊啊啊啊啊2',
        wbImg: ''
      })
    }, 3000)
  }
  function share() {
    window.newsappAPI.share.invokeShare({
      wxUrl: 'http://c.m.163.com/nc/qa/uncharted/index.html',
      wxImg: '',
      wxTitle: '哈哈哈333333',
      wxText: '描述啊啊啊啊啊33333',
      wbImg: ''
    })
  }
  function hideToolbar() {
    window.newsappAPI.ui.hideToolbar()
  }
  function modifyTitle() {
    window.newsappAPI.ui.modifyTitle('修改标题')
  }
  function button() {
    window.newsappAPI.ui.button('刷新', function () {
      alert('回调')
    })
  }
  function copy() {
    window.newsappAPI.copy('点击复制按纽文本')
  }
  function current() {
    window.newsappAPI.location.current(function (info) {
      alert(JSON.stringify(info))
    })
  }
  function change() {
    window.newsappAPI.location.change(function (info) {
      alert(JSON.stringify(info))
    })
  }
  function setting() {
    window.newsappAPI.setting(function (info) {
      alert(JSON.stringify(info))
    })
  }
  function pushview() {
    window.newsappAPI.pushview.coupon()
  }
  function uploadimage() {
    window.newsappAPI.uploadimage.album('', '', function (url) {
      alert(url)
    })
  }
  function alarm() {
    window.newsappAPI.alarm({
      url:'http://163.com',
      date: '2017-07-12 21:30:00',
      title: 'ddd',
      message: 'ddd',
      type: 'enable',
    }, function (bool) {
      alert(bool)
      window.newsappAPI.alarm({
        url:'http://163.com',
        date: '2017-07-12 21:30:00',
        title: 'ddd2222222',
        message: 'ddd33333',
        type: 'add',
      }, function (bool) {
        alert(bool)
      })
    })
  }
  function remind() {
    window.newsappAPI.remind({
      id: 'test20170712',
      url:'http://m.163.com',
      start: '2017-07-12 18:30:00',
      end: '2017-07-13 18:30:00',
      pattern: 'daily',
      title: 'ddd3333',
      message: 'ddd333',
      type: 'add',
    })
  }

</script>
</body>

</html>